<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
<title>Simple Article</title>

<link href = 'article.css' rel = 'stylesheet' type = 'text/css'></link>
</head>

<body><div id = 'banner'></div>
<div id = 'content'>
<h1>Simple Article</h1>

<p class = 'abstract'><i>
Explains how to use this tool-chain for writing simple articles.
</i></p>

<div class = 'frontMatter'>
<div class = 'frontLeft'>
<p class = 'date'>24 July 2012</p>

<div class = 'author'><img alt = 'Photo of Martin Fowler' src = 'mf.jpg' width = '80'></img>
<p class = 'name'><a href = 'http://martinfowler.com'>Martin Fowler</a></p>

<p>Author, speaker, and loud-mouth on sofware development. </p>
</div>

<div class = 'clear'></div>

<div class = 'tags'><b>Tags: </b></div>
</div>

<div class = 'frontRight'>
<div class = 'contents'>
<h2>Contents</h2>

<ul>
<li><a href = '#MakingYourOwnDocumentFolder'>Making your own document folder</a></li>

<li><a href = '#SimpleAndFlexibleArticles'>Simple and Flexible Articles</a></li>

<li><a href = '#OverallStructureOfAnArticle'>Overall Structure of an Article</a>
<ul>
<li><a href = '#HeaderElements'>Header Elements</a></li>

<li><a href = '#BodyAndAppendixSections'>Body and appendix sections</a></li>
</ul>
</li>

<li><a href = '#MarkupElements'>Markup elements</a>
<ul>
<li><a href = '#BasicElements'>Basic elements</a></li>

<li><a href = '#CodeListings'>Code listings</a></li>

<li><a href = '#Tables'>Tables</a></li>

<li><a href = '#ReferringToOtherThings'>Referring to other things</a></li>

<li><a href = '#Images'>Images</a></li>

<li><a href = '#Quotes'>Quotes</a></li>

<li><a href = '#Footnotes'>Footnotes</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>

<div class = 'paperBody'>
<p>This is an example of a simple article that uses my xml-to-html
toolchain. It acts on two levels, you can read the html to understand
how things are put together, and you can also look at the XML source
to understand how that looks. I have some comments in the XML source
that add some further information about the XML elements that are used.</p>
<hr class = 'topSection'></hr>
<h2 id = 'MakingYourOwnDocumentFolder'>Making your own document folder</h2>

<p>The sample folder here is a simple sample to get you started and
provide some examples to base your own articles from. Rather than
modify this sample folder in the mfweb repo, it's best to create your
own work folder in a separate repo. You can start this simply by
copying the sample folder into another location.</p>

<p>To get your new folder to build in that location, you will need to
make a change to the rakefile that controls the build process to point
to the mfweb directory. Look for the line <code>MFWEB_DIR =
'../'</code> at the top of the file and change the path to point to
location of the mfweb folder. Once you've done that you should be able
to execute <code>rake</code> in the new location and that will rebuild
the sample files.</p>

<p>The rakefile controls the build of the articles. There are comments
in the file to explain what various things do if you'd like to tweak
it.</p>
<hr class = 'topSection'></hr>
<h2 id = 'SimpleAndFlexibleArticles'>Simple and Flexible Articles</h2>

<p>The toolchain supports two styles of writing articles, simple and
  flexible. Simple articles have limited code inclusion and packaging
  capabilities, and are best used for articles that don't need to
  connect to a live code base, don't need to be grouped into a
  single folder with their diagrams code etc, and don't need any
  custom handling for transformations or css.</p>

<p>In this web page, I'll just describe the facilities of the simple
  article, there is <a href = 'flexible.html'>another web page to
  discuss flexible articles</a>. Simple articles should have their
  source xml file placed in <code>your-folder/articles/simple</code>.
  All xml files found in that folder will be transformed into
  <code>your-folder/build/articles</code>. The only thing that's
  different between a simple article and a flexible article is the way
  the articles sources are organized - they both look the same to the
  reader.</p>
<hr class = 'topSection'></hr>
<h2 id = 'OverallStructureOfAnArticle'>Overall Structure of an Article</h2>

<p>Simple articles have a top-level element of <code>paper</code>.
  The child elements of paper begin with various header elements,
  followed by the <code>body</code> element that contains the body of
  the article, and finally an optional <code>appendix</code>.</p>

<h3 id = 'HeaderElements'>Header Elements</h3>

<p>The example article shows off the various header elements.
    These should be fairly self-explanatory. It's worth highlighting
    that you need at least one <code>version</code> element, as the
    first <code>version</code> sets the date of the article.</p>

<h3 id = 'BodyAndAppendixSections'>Body and appendix sections</h3>

<p>The body of the article should include the core content of the
    article. The body can be divided into sections. Each section must
    start with an <code>h</code> element and then 
    block elements. You may have block elements before the first
    section. You may also nest sections within each other.</p>

<div class = 'sidebar'>
<p>You can specify sidebars - handy for call outs and links</p>
</div>

<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed
    do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
    enim ad minim veniam, quis nostrud exercitation ullamco laboris
    nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
    reprehenderit in voluptate velit esse cillum dolore eu fugiat
    nulla pariatur. Excepteur sint occaecat cupidatat non proident,
    sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<div class = 'soundbyte'>
<p>Soundbites are like sidebars, but for the semantics of
    pull quotes. </p>
</div>

<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed
    do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
    enim ad minim veniam, quis nostrud exercitation ullamco laboris
    nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
    reprehenderit in voluptate velit esse cillum dolore eu fugiat
    nulla pariatur. Excepteur sint occaecat cupidatat non proident,
    sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<p>The appendix can also have sections in the same way as the body.</p>
<hr class = 'topSection'></hr>
<h2 id = 'MarkupElements'>Markup elements</h2>

<h3 id = 'BasicElements'>Basic elements</h3>

<p>The basic elements of an article are mostly copied from HTML.
  Block elements include <code>p</code>, 
  <code>ul</code> and <code>li</code>. Inline
  elements include <code>code</code>, <code>i</code>, <code>b</code>,
  <code>a</code>, <code>sub</code>, <code>sup</code>, and
  <code>br</code>.</p>

<h3 id = 'CodeListings'>Code listings</h3>

<p>A particularly important feature of the toolchain is its ability
  to import code from live code projects. This allows me to annotate a
  live code project with marker comments and then extract bits of code
  from those code trees into the HTML output. To do this properly, you
  need to use a flexible article, so that you can set up the path of
  the code tree in the build script, but there is some limited support
  for code imports for simple articles.</p>

<p>The element to use for a code import is <code>insertCode</code>,
  here is an example of it in use.</p>

<pre>some code...
 def example
   look.here "some example code"
   left &lt; right
 end
</pre>

<p>A code fragment can have a label to introduce it. You can also
  nest code fragments to pick out smaller parts that have been shown
  in total, such as picking out one line below.</p>

<pre>   left &lt; right
</pre>

<p>I often use the label atrtribute to indicate the context of a
  code fragment. Usually this context is the name of a class, so there
  is a crude way to get the code importer to derive the class
  name.</p>

<pre>class Whatever...
 some.more(example_code)
</pre>

<p> Beware that this mechanism is easily confused if you have nested
  classes in a file.</p>

<p>The files you need for code fragments in a simple article must
  live in <code>articles/simple/code</code>. I like to then use either
  a file or folder with the same name as the article to help keep code
  fragments apart. This simplificaiton makes code insertions less
  useful for simple articles than for flexible artilces. Indeed you
  don't need code inserts at all, you can just use 
  <code>pre</code> elements directly. One advantage with code inserts
  is that they automatically wrap the inserted code inside
  <code>CDATA</code> nodes.</p>

<h3 id = 'Tables'>Tables</h3>

<p>Tables can be specified using the same elements as HTML, which
  are copied over directly to the output. However I usually prefer to
  use semantic markup in these cases.</p>

<h3 id = 'ReferringToOtherThings'>Referring to other things</h3>

<p>There are a number of mechanisms I use for references to other
things on web and in older worlds. The simplest web reference is the
<code>a</code> element, which works just like HTML usually does.</p>

<p>For a simple reference to a book, eg <a href = 'http://www.amazon.com/gp/product/0321278658?ie=UTF8&amp;tag=martinfowlerc-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0321278658'>XP
Explained</a><img alt = '' border = '0' height = '1' src = 'http://www.assoc-amazon.com/e/ir?t=martinfowlerc-20&amp;l=as2&amp;o=1&amp;a=0321601912' style = 'border:none !important; margin:0px !important;' width = '1'></img> you can use the <code>book</code> element. This uses an
isbn to link directly to amazon (using my amazon affiliate
information so I can buy more Nice Things). For an amazon link that
<a href = 'http://www.amazon.com/gp/product/B0040JHVCC?ie=UTF8&amp;tag=martinfowlerc-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B0040JHVCC'>isn't a book</a><img alt = '' border = '0' height = '1' src = 'http://www.assoc-amazon.com/e/ir?t=martinfowlerc-20&amp;l=as2&amp;o=1&amp;a=0321601912' style = 'border:none !important; margin:0px !important;' width = '1'></img>, there is a different
<code>amazon</code> element.</p>

<p>To refer to an article in my bliki, there is a
<code>blikiRef</code> element, so I can easily refer to a <a href = 'http://martinfowler.com/bliki/MemoryImage.html'> Memory Image</a> with some very crude pluralization for <a href = 'http://martinfowler.com/bliki/MemoryImage.html'> Memory Images</a>.</p>

<p>When building a paper, you can supply a bibliography for citations.
You can then include a citation either as <a href = 'http://c2.com/ppr/checks.html'> a link around text</a> or just
stand-alone <a href = 'http://www.amazon.com/exec/obidos/ASIN/0201633612'>[Gang of Four]</a>. </p>

<h3 id = 'Images'>Images</h3>

<p>Simple inline images <img height = '12px' src = 'images/simpleArticle/blob.png'></img> can be made with an <code>img</code> 
  element. </p>

<p>For more involved figures, you can use a <code>figure</code>
  element.</p>

<div class = 'figure'>
<p class = 'figureImage'><a name = 'images_simpleArticle_2box.png'></a><img alt = 'Figure 1' src = 'images/simpleArticle/2box.png'></img></p>

<p class = 'figureCaption'>Figure 1: Some meaningless diagram
  with an uninformative caption</p>
</div>

<p>Figures can have captions and can be referred to with a
  <code>figureRef</code> element, which will link to it with a
  numbered bit of hypertext  like <a href = '#images_simpleArticle_2box.png'> Figure 1</a></p>

<div class = 'photo' style = 'width: 200px;'><img src = 'images/simpleArticle/tower.jpg'></img>
<p class = 'photoCaption'>Tower bridge in colorful light</p>
</div>

<p>I have a different block element for <code>photo</code>. This can
  also accept a caption, but doesn't generate a figure number. It can
  also accept a photo credit, so that the photo is properly
  attributed.</p>

<p>The photo can either be made to float to the right, or be in
  flow by setting the <code>layout</code> attribute. This generates
  div blocks for the photo and caption with different css classes.</p>

<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed
    do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
    enim ad minim veniam, quis nostrud exercitation ullamco laboris
    nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
    reprehenderit in voluptate velit esse cillum dolore eu fugiat
    nulla pariatur. Excepteur sint occaecat cupidatat non proident,
    sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<div class = 'fullPhoto' style = 'width: 500px;'><img src = 'images/simpleArticle/tower.jpg'></img>
<p class = 'credit'>photo: Martin Fowler</p>

<p class = 'photoCaption'></p>
</div>

<h3 id = 'Quotes'>Quotes</h3>

<blockquote>
<p>Embrace
  Change</p>

<p class = 'quote-attribution'>-- <a href = 'http://www.amazon.com/exec/obidos/ASIN/0201616416'>Kent Beck</a></p>
</blockquote>

<p>Quotes act as their own block. The <code>ref</code> attribute is
  a key into the bibliography, the <code>credit</code> attribute puts
  accreditation to the quote. Both of the attributes are optional.</p>

<h3 id = 'Footnotes'>Footnotes</h3>

<p>To add a footnote, use a <code>footRef</code> element. <a href = '#footnote-simple'>[1]</a><a href = '#footnote-head'>[2]</a>. Footnotes will be displayed
  wherever you add a <code>display-footnotes</code> element. </p>

<hr class = 'bodySep'></hr>
</div>

<div class = 'appendix'><hr class = 'topSection'></hr>
<h2 id = 'Appendix'>Appendix</h2>

<p>The appendix is separated and rendered slightly differently. It's
good for secondary items, acknowledgements, and the like.</p>

<div class = 'footnote-list'>
<h2>Footnotes</h2>

<div class = 'footnote-list-item' id = 'footnote-simple'>
<p><span class = 'num'>1: </span>Footnotes can be written in a
  <code>footnote-list</code> at the end of the paper. Simple footnotesxs
  like this are just inline elements and text inside the
  <code>footnot</code>element. I use this style for single-paragraph footnotes.
</p>
</div>

<div class = 'footnote-list-item' id = 'footnote-head'>
<h3 class = 'head-text'>2: Footnote heading</h3>

<p>Longer footnotes can have an optional heading and contain any block elements.</p>
</div>
</div>
</div>

<div class = 'appendix'>
<h2>
<a name = 'SignificantRevisions'></a>
Significant Revisions</h2>

<p><i>24 July 2012: </i>Rewrite to provide a fuller example</p>

<p><i>04 July 2012: </i>First draft stub</p>
</div>
</div>
<div id = 'footer'></div></body>
</html>
